<!-- <ngx-ui-loader></ngx-ui-loader> -->

<div class="body">
    <div class="container">
        <div class="row">
            <div class="col-lg-3 col-md-2"></div>
            <div class="col-lg-6 col-md-8 login-box">
                <div class="col-lg-12 login-key">
                    <img src="assets/image/logo-m.png" alt="logo" />
                </div>
                <div class="col-lg-12 login-title">
                    Se connecter
                </div>

                <div class="col-lg-12 login-form">
                    <div class="col-lg-12 login-form">
                        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
                            <div class="row text-center" *ngIf="msgHide" (click)="clickOnAlert()">
                                <div class="col-sm-12">
                                    <div *ngIf="error" class="alert alert-secondary text-center">{{error}}</div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-control-label">Email ou telephone</label>
                                <input formControlName="username" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.username.errors }" placeholder="Email ou pseudo..." (click)="clickOnAlert()">
                            </div>

                            <ng-container *ngFor="let validation of validation_messages.username">
                                <div class="alert alert-secondary text-center" *ngIf="loginForm.get('username').hasError(validation.type) && (loginForm.get('username').dirty || loginForm.get('username').touched)">
                                        {{ validation.message }}
                                </div>
                            </ng-container>

                            <div class="form-group">
                                <label class="form-control-label">Mot de passe</label>
                                <input formControlName="password" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.password.errors }" placeholder="Password..." (change)="clickOnAlert()" >
                            </div>

                            <ng-container *ngFor="let validation of validation_messages.password" >
                                <div class="alert alert-secondary text-center" *ngIf="loginForm.get('password').hasError(validation.type) && (loginForm.get('password').dirty || loginForm.get('password').touched)">
                                      {{ validation.message }}
                                </div>
                            </ng-container>

                            <div class="col-lg-12 loginbttm">
                                <div class="col-lg-6 login-btm login-text">
                                    Pas de compte <a href="#" routerLink="/register"><small
                                            class="text-white">S'inscrire</small></a>
                                </div>
                                <div class="col-lg-6 login-btm login-button">
                                    <button type="submit" [disabled]="loginForm.invalid"
                                        class="btn btn-outline-primary">Se connecter</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="col-lg-3 col-md-2"></div>
            </div>
        </div>
    </div>
</div>